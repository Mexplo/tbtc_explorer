(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{180:function(e,t,n){},484:function(e,t,n){e.exports=n(896)},498:function(e,t){},521:function(e,t){},523:function(e,t){},539:function(e,t){},607:function(e,t){},609:function(e,t){},645:function(e,t){},730:function(e){e.exports=JSON.parse('{"contractName":"BPool","abi":[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"src","type":"address"},{"indexed":true,"internalType":"address","name":"dst","type":"address"},{"indexed":false,"internalType":"uint256","name":"amt","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":true,"inputs":[{"indexed":true,"internalType":"bytes4","name":"sig","type":"bytes4"},{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"}],"name":"LOG_CALL","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"tokenOut","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmountOut","type":"uint256"}],"name":"LOG_EXIT","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"tokenIn","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmountIn","type":"uint256"}],"name":"LOG_JOIN","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"tokenIn","type":"address"},{"indexed":true,"internalType":"address","name":"tokenOut","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"tokenAmountOut","type":"uint256"}],"name":"LOG_SWAP","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"src","type":"address"},{"indexed":true,"internalType":"address","name":"dst","type":"address"},{"indexed":false,"internalType":"uint256","name":"amt","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":true,"inputs":[],"name":"BONE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"BPOW_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"EXIT_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"INIT_POOL_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_BOUND_TOKENS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_BPOW_BASE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_IN_RATIO","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_OUT_RATIO","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_TOTAL_WEIGHT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_WEIGHT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MIN_BALANCE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MIN_BOUND_TOKENS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MIN_BPOW_BASE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MIN_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MIN_WEIGHT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"src","type":"address"},{"internalType":"address","name":"dst","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"whom","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceIn","type":"uint256"},{"internalType":"uint256","name":"tokenWeightIn","type":"uint256"},{"internalType":"uint256","name":"tokenBalanceOut","type":"uint256"},{"internalType":"uint256","name":"tokenWeightOut","type":"uint256"},{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcInGivenOut","outputs":[{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceIn","type":"uint256"},{"internalType":"uint256","name":"tokenWeightIn","type":"uint256"},{"internalType":"uint256","name":"tokenBalanceOut","type":"uint256"},{"internalType":"uint256","name":"tokenWeightOut","type":"uint256"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcOutGivenIn","outputs":[{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceOut","type":"uint256"},{"internalType":"uint256","name":"tokenWeightOut","type":"uint256"},{"internalType":"uint256","name":"poolSupply","type":"uint256"},{"internalType":"uint256","name":"totalWeight","type":"uint256"},{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcPoolInGivenSingleOut","outputs":[{"internalType":"uint256","name":"poolAmountIn","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceIn","type":"uint256"},{"internalType":"uint256","name":"tokenWeightIn","type":"uint256"},{"internalType":"uint256","name":"poolSupply","type":"uint256"},{"internalType":"uint256","name":"totalWeight","type":"uint256"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcPoolOutGivenSingleIn","outputs":[{"internalType":"uint256","name":"poolAmountOut","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceIn","type":"uint256"},{"internalType":"uint256","name":"tokenWeightIn","type":"uint256"},{"internalType":"uint256","name":"poolSupply","type":"uint256"},{"internalType":"uint256","name":"totalWeight","type":"uint256"},{"internalType":"uint256","name":"poolAmountOut","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcSingleInGivenPoolOut","outputs":[{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceOut","type":"uint256"},{"internalType":"uint256","name":"tokenWeightOut","type":"uint256"},{"internalType":"uint256","name":"poolSupply","type":"uint256"},{"internalType":"uint256","name":"totalWeight","type":"uint256"},{"internalType":"uint256","name":"poolAmountIn","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcSingleOutGivenPoolIn","outputs":[{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceIn","type":"uint256"},{"internalType":"uint256","name":"tokenWeightIn","type":"uint256"},{"internalType":"uint256","name":"tokenBalanceOut","type":"uint256"},{"internalType":"uint256","name":"tokenWeightOut","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcSpotPrice","outputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"}],"name":"decreaseApproval","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getColor","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"}],"name":"increaseApproval","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"src","type":"address"},{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"isPublicSwap","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isFinalized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"t","type":"address"}],"name":"isBound","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getNumTokens","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCurrentTokens","outputs":[{"internalType":"address[]","name":"tokens","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getFinalTokens","outputs":[{"internalType":"address[]","name":"tokens","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getDenormalizedWeight","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getTotalDenormalizedWeight","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getNormalizedWeight","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getSwapFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getController","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"setSwapFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"manager","type":"address"}],"name":"setController","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bool","name":"public_","type":"bool"}],"name":"setPublicSwap","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"finalize","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"denorm","type":"uint256"}],"name":"bind","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"denorm","type":"uint256"}],"name":"rebind","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"unbind","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"gulp","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"}],"name":"getSpotPrice","outputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"}],"name":"getSpotPriceSansFee","outputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"poolAmountOut","type":"uint256"},{"internalType":"uint256[]","name":"maxAmountsIn","type":"uint256[]"}],"name":"joinPool","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"poolAmountIn","type":"uint256"},{"internalType":"uint256[]","name":"minAmountsOut","type":"uint256[]"}],"name":"exitPool","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"minAmountOut","type":"uint256"},{"internalType":"uint256","name":"maxPrice","type":"uint256"}],"name":"swapExactAmountIn","outputs":[{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"},{"internalType":"uint256","name":"spotPriceAfter","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"maxAmountIn","type":"uint256"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"},{"internalType":"uint256","name":"maxPrice","type":"uint256"}],"name":"swapExactAmountOut","outputs":[{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"uint256","name":"spotPriceAfter","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"uint256","name":"minPoolAmountOut","type":"uint256"}],"name":"joinswapExternAmountIn","outputs":[{"internalType":"uint256","name":"poolAmountOut","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"poolAmountOut","type":"uint256"},{"internalType":"uint256","name":"maxAmountIn","type":"uint256"}],"name":"joinswapPoolAmountOut","outputs":[{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"poolAmountIn","type":"uint256"},{"internalType":"uint256","name":"minAmountOut","type":"uint256"}],"name":"exitswapPoolAmountIn","outputs":[{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"},{"internalType":"uint256","name":"maxPoolAmountIn","type":"uint256"}],"name":"exitswapExternAmountOut","outputs":[{"internalType":"uint256","name":"poolAmountIn","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]}')},731:function(e){e.exports=JSON.parse('[{"name":"TokenExchange","inputs":[{"type":"address","name":"buyer","indexed":true},{"type":"int128","name":"sold_id","indexed":false},{"type":"uint256","name":"tokens_sold","indexed":false},{"type":"int128","name":"bought_id","indexed":false},{"type":"uint256","name":"tokens_bought","indexed":false}],"anonymous":false,"type":"event"},{"name":"TokenExchangeUnderlying","inputs":[{"type":"address","name":"buyer","indexed":true},{"type":"int128","name":"sold_id","indexed":false},{"type":"uint256","name":"tokens_sold","indexed":false},{"type":"int128","name":"bought_id","indexed":false},{"type":"uint256","name":"tokens_bought","indexed":false}],"anonymous":false,"type":"event"},{"name":"AddLiquidity","inputs":[{"type":"address","name":"provider","indexed":true},{"type":"uint256[2]","name":"token_amounts","indexed":false},{"type":"uint256[2]","name":"fees","indexed":false},{"type":"uint256","name":"invariant","indexed":false},{"type":"uint256","name":"token_supply","indexed":false}],"anonymous":false,"type":"event"},{"name":"RemoveLiquidity","inputs":[{"type":"address","name":"provider","indexed":true},{"type":"uint256[2]","name":"token_amounts","indexed":false},{"type":"uint256[2]","name":"fees","indexed":false},{"type":"uint256","name":"token_supply","indexed":false}],"anonymous":false,"type":"event"},{"name":"RemoveLiquidityOne","inputs":[{"type":"address","name":"provider","indexed":true},{"type":"uint256","name":"token_amount","indexed":false},{"type":"uint256","name":"coin_amount","indexed":false},{"type":"uint256","name":"token_supply","indexed":false}],"anonymous":false,"type":"event"},{"name":"RemoveLiquidityImbalance","inputs":[{"type":"address","name":"provider","indexed":true},{"type":"uint256[2]","name":"token_amounts","indexed":false},{"type":"uint256[2]","name":"fees","indexed":false},{"type":"uint256","name":"invariant","indexed":false},{"type":"uint256","name":"token_supply","indexed":false}],"anonymous":false,"type":"event"},{"name":"CommitNewAdmin","inputs":[{"type":"uint256","name":"deadline","indexed":true},{"type":"address","name":"admin","indexed":true}],"anonymous":false,"type":"event"},{"name":"NewAdmin","inputs":[{"type":"address","name":"admin","indexed":true}],"anonymous":false,"type":"event"},{"name":"CommitNewFee","inputs":[{"type":"uint256","name":"deadline","indexed":true},{"type":"uint256","name":"fee","indexed":false},{"type":"uint256","name":"admin_fee","indexed":false}],"anonymous":false,"type":"event"},{"name":"NewFee","inputs":[{"type":"uint256","name":"fee","indexed":false},{"type":"uint256","name":"admin_fee","indexed":false}],"anonymous":false,"type":"event"},{"name":"RampA","inputs":[{"type":"uint256","name":"old_A","indexed":false},{"type":"uint256","name":"new_A","indexed":false},{"type":"uint256","name":"initial_time","indexed":false},{"type":"uint256","name":"future_time","indexed":false}],"anonymous":false,"type":"event"},{"name":"StopRampA","inputs":[{"type":"uint256","name":"A","indexed":false},{"type":"uint256","name":"t","indexed":false}],"anonymous":false,"type":"event"},{"outputs":[],"inputs":[{"type":"address","name":"_owner"},{"type":"address[2]","name":"_coins"},{"type":"address","name":"_pool_token"},{"type":"address","name":"_base_pool"},{"type":"uint256","name":"_A"},{"type":"uint256","name":"_fee"},{"type":"uint256","name":"_admin_fee"}],"stateMutability":"nonpayable","type":"constructor"},{"name":"A","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":5199},{"name":"A_precise","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":5161},{"name":"get_virtual_price","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":992460},{"name":"calc_token_amount","outputs":[{"type":"uint256","name":""}],"inputs":[{"type":"uint256[2]","name":"amounts"},{"type":"bool","name":"is_deposit"}],"stateMutability":"view","type":"function","gas":3938567},{"name":"add_liquidity","outputs":[{"type":"uint256","name":""}],"inputs":[{"type":"uint256[2]","name":"amounts"},{"type":"uint256","name":"min_mint_amount"}],"stateMutability":"nonpayable","type":"function","gas":6136485},{"name":"get_dy","outputs":[{"type":"uint256","name":""}],"inputs":[{"type":"int128","name":"i"},{"type":"int128","name":"j"},{"type":"uint256","name":"dx"}],"stateMutability":"view","type":"function","gas":2390018},{"name":"get_dy_underlying","outputs":[{"type":"uint256","name":""}],"inputs":[{"type":"int128","name":"i"},{"type":"int128","name":"j"},{"type":"uint256","name":"dx"}],"stateMutability":"view","type":"function","gas":2393224},{"name":"exchange","outputs":[{"type":"uint256","name":""}],"inputs":[{"type":"int128","name":"i"},{"type":"int128","name":"j"},{"type":"uint256","name":"dx"},{"type":"uint256","name":"min_dy"}],"stateMutability":"nonpayable","type":"function","gas":2617039},{"name":"exchange_underlying","outputs":[{"type":"uint256","name":""}],"inputs":[{"type":"int128","name":"i"},{"type":"int128","name":"j"},{"type":"uint256","name":"dx"},{"type":"uint256","name":"min_dy"}],"stateMutability":"nonpayable","type":"function","gas":2631854},{"name":"remove_liquidity","outputs":[{"type":"uint256[2]","name":""}],"inputs":[{"type":"uint256","name":"_amount"},{"type":"uint256[2]","name":"min_amounts"}],"stateMutability":"nonpayable","type":"function","gas":163158},{"name":"remove_liquidity_imbalance","outputs":[{"type":"uint256","name":""}],"inputs":[{"type":"uint256[2]","name":"amounts"},{"type":"uint256","name":"max_burn_amount"}],"stateMutability":"nonpayable","type":"function","gas":6136334},{"name":"calc_withdraw_one_coin","outputs":[{"type":"uint256","name":""}],"inputs":[{"type":"uint256","name":"_token_amount"},{"type":"int128","name":"i"}],"stateMutability":"view","type":"function","gas":4389},{"name":"remove_liquidity_one_coin","outputs":[{"type":"uint256","name":""}],"inputs":[{"type":"uint256","name":"_token_amount"},{"type":"int128","name":"i"},{"type":"uint256","name":"_min_amount"}],"stateMutability":"nonpayable","type":"function","gas":3826262},{"name":"ramp_A","outputs":[],"inputs":[{"type":"uint256","name":"_future_A"},{"type":"uint256","name":"_future_time"}],"stateMutability":"nonpayable","type":"function","gas":151894},{"name":"stop_ramp_A","outputs":[],"inputs":[],"stateMutability":"nonpayable","type":"function","gas":148655},{"name":"commit_new_fee","outputs":[],"inputs":[{"type":"uint256","name":"new_fee"},{"type":"uint256","name":"new_admin_fee"}],"stateMutability":"nonpayable","type":"function","gas":110491},{"name":"apply_new_fee","outputs":[],"inputs":[],"stateMutability":"nonpayable","type":"function","gas":97272},{"name":"revert_new_parameters","outputs":[],"inputs":[],"stateMutability":"nonpayable","type":"function","gas":21925},{"name":"commit_transfer_ownership","outputs":[],"inputs":[{"type":"address","name":"_owner"}],"stateMutability":"nonpayable","type":"function","gas":74663},{"name":"apply_transfer_ownership","outputs":[],"inputs":[],"stateMutability":"nonpayable","type":"function","gas":60740},{"name":"revert_transfer_ownership","outputs":[],"inputs":[],"stateMutability":"nonpayable","type":"function","gas":22015},{"name":"admin_balances","outputs":[{"type":"uint256","name":""}],"inputs":[{"type":"uint256","name":"i"}],"stateMutability":"view","type":"function","gas":3511},{"name":"withdraw_admin_fees","outputs":[],"inputs":[],"stateMutability":"nonpayable","type":"function","gas":9232},{"name":"donate_admin_fees","outputs":[],"inputs":[],"stateMutability":"nonpayable","type":"function","gas":74995},{"name":"kill_me","outputs":[],"inputs":[],"stateMutability":"nonpayable","type":"function","gas":38028},{"name":"unkill_me","outputs":[],"inputs":[],"stateMutability":"nonpayable","type":"function","gas":22165},{"name":"coins","outputs":[{"type":"address","name":""}],"inputs":[{"type":"uint256","name":"arg0"}],"stateMutability":"view","type":"function","gas":2250},{"name":"balances","outputs":[{"type":"uint256","name":""}],"inputs":[{"type":"uint256","name":"arg0"}],"stateMutability":"view","type":"function","gas":2280},{"name":"fee","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2201},{"name":"admin_fee","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2231},{"name":"owner","outputs":[{"type":"address","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2261},{"name":"token","outputs":[{"type":"address","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2291},{"name":"base_pool","outputs":[{"type":"address","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2321},{"name":"base_virtual_price","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2351},{"name":"base_cache_updated","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2381},{"name":"base_coins","outputs":[{"type":"address","name":""}],"inputs":[{"type":"uint256","name":"arg0"}],"stateMutability":"view","type":"function","gas":2520},{"name":"initial_A","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2441},{"name":"future_A","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2471},{"name":"initial_A_time","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2501},{"name":"future_A_time","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2531},{"name":"admin_actions_deadline","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2561},{"name":"transfer_ownership_deadline","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2591},{"name":"future_fee","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2621},{"name":"future_admin_fee","outputs":[{"type":"uint256","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2651},{"name":"future_owner","outputs":[{"type":"address","name":""}],"inputs":[],"stateMutability":"view","type":"function","gas":2681}]')},896:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(55),s=n.n(i),u=n(12),o=n(13),c=n(15),l=n(16),p=n(223),d=n.n(p),m=n(6),f=n.n(m),y=n(14),b=n(26),v=n(154),h=n.n(v),g=n(39),E=n(388),T=n(389),w=n(390),x=n(391),k=n(392),O=n(393),C=n(724),S=n(725),_=n(726),A=n(727),j=n(728),B=n(729),M=n(730),D=n(731),I=new d.a("https://mainnet.infura.io/v3/fae6a8d70b074a21898e735c568a80cf"),R={DepositContract:new I.eth.Contract(O.abi),DepositFactoryContract:new I.eth.Contract(E.abi,"0x87effef56c7ff13e2463b5d4dce81be2340faf8b"),TBTCSystemContract:new I.eth.Contract(T.abi,"0xe20A5C79b39bC8C363f0f49ADcFa82C2a01ab64a"),TBTCTokenContract:new I.eth.Contract(w.abi,"0x8dAEBADE922dF735c38C80C7eBD708Af50815fAa"),TBTCDepositTokenContract:new I.eth.Contract(x.abi,"0x10B66Bd1e3b5a936B7f8Dbc5976004311037Cdf0"),VendingMachineContract:new I.eth.Contract(k.abi,"0x526c08e5532a9308b3fb33b7968ef78a5005d2ac"),BondedECDSAKeepContract:new I.eth.Contract(C.abi),BondedECDSAKeepFactoryContract:new I.eth.Contract(S.abi,"0xA7d9E842EFB252389d613dA88EDa3731512e40bD"),KeepBondingContract:new I.eth.Contract(_.abi,"0x27321f84704a599aB740281E285cc4463d89A3D5"),FrtContract:new I.eth.Contract(A.abi,"0xaf3fff06b75f99352d8c2a3c4bef1339a2f94789"),UniswapV2PairTbtcWeth:new I.eth.Contract(j.abi,"0x854056Fd40C1B52037166285B2e54Fee774d33f6"),UniswapV2PairTbtcWbtc:new I.eth.Contract(j.abi,"0x8a1643D77621d171df97Df4fc86051F54F7EBA90"),SushiswapV2Pair:new I.eth.Contract(j.abi,"0x2dbc7dd86c6cd87b525bd54ea73ebeebbc307f68"),newErc20Detail:function(){return new I.eth.Contract(B.abi)},BalancerPoolTbtcWbtc:new I.eth.Contract(M.abi,"0x17996cbddd23c2a912de8477c37d43a1b79770b8"),BalancerPoolTbtcWeth:new I.eth.Contract(M.abi,"0xb98db2fb641751462fd78c6db2a5c6edb50864d4"),CurveTbtcPool:new I.eth.Contract(D,"0xC25099792E9349C7DD09759744ea681C7de2cb66"),UniswapV2PairWethUSDT:new I.eth.Contract(j.abi,"0x0d4a11d5EEaaC28EC3F61d100daF4d40471f1852")},N={0:"START",1:"AWAITING_SIGNER_SETUP",2:"AWAITING_BTC_FUNDING_PROOF",3:"FAILED_SETUP",4:"ACTIVE",5:"AWAITING_WITHDRAWAL_SIGNATURE",6:"AWAITING_WITHDRAWAL_PROOF",7:"REDEEMED",8:"COURTESY_CALL",9:"FRAUD_LIQUIDATION_IN_PROGRESS",10:"LIQUIDATION_IN_PROGRESS",11:"LIQUIDATE"},P={apolloClient:new g.ApolloClient({uri:"https://api.thegraph.com/subgraphs/name/miracle2k/all-the-keeps",cache:new g.InMemoryCache}),tbtcGraphClient:new g.ApolloClient({uri:"https://api.thegraph.com/subgraphs/name/suntzu93/tbtc",cache:new g.InMemoryCache}),web3:I,contracts:R,tokenIdToAddress:function(e){var t=I.utils.toHex(e);return 41==t.length&&(t="0x0".concat(t.slice(2))),t},addressToTokenId:function(e){return new I.utils.BN(e).toString()},getStateDesc:function(e){return N[e]},mintStatusForList:function(e){return-1!=["4","5","6","7"].indexOf(e)?"COMPLETED":N[e]},mintStatus:function(e,t){return t?"COMPLETED":3==e?"FAILED":-1!=[9,10,11].indexOf(e)?"LIQUIDATE":"PROCESSING"},redeemStatus:function(e,t,n){return t?n?"COMPLETED":t&&-1!=[9,10,11].indexOf(e)?"LIQUIDATE":"PROCESSING":"NOT_START"},time:{blockToTimestamp:function(e){return 1601470793+13.7*(e-10963898)}},calMintStep:function(e){return e.FundedEvent?2:e.RegisteredPubKeyEvent?1:e.CreatedEvent?0:-1},calRedeemStep:function(e){return e.RedeemedEvent?2:e.GotRedemptionSignatureEvent?1:e.RedemptionRequestedEvent?0:-1}},W={state:{},lotSize:{}},z={getDepositEvent:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCSystemContract.getPastEvents("Created",t,(function(e,t){e&&console.log("Couldn't get Created event of TBTCSystem.")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTdtTransferEvent:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCDepositTokenContract.getPastEvents("Transfer",t,(function(e,t){e&&console.log("Couldn't get MintTdt event of TdtToken.")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTbtcTransferEvent:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCTokenContract.getPastEvents("Transfer",t,(function(e,t){e&&console.log("Couldn't get MintTbtc event of TbtcToken.")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRedemptionRequestedEvent:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCSystemContract.getPastEvents("RedemptionRequested",t,(function(e,t){e&&console.log("Couldn't get RedemptionRequested event of TBTCSystem.")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPublicKeyPublished:function(){var e=Object(y.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=P.contracts.BondedECDSAKeepContract).options.address=t,e.next=4,a.getPastEvents("PublicKeyPublished",n,(function(e,t){e&&console.log("Couldn't get PublicKeyPublished event of Keep.")}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getRegisteredPubkeyEvent:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCSystemContract.getPastEvents("RegisteredPubkey",t,(function(e,t){e&&console.log("Couldn't get RegisteredPubkey event of TBTCSystem.")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFundedEvent:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCSystemContract.getPastEvents("Funded",t,(function(e,t){e&&console.log("Couldn't get Funded event of TBTCSystem.")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getGotRedemptionSignatureEvent:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCSystemContract.getPastEvents("GotRedemptionSignature",t,(function(e,t){e&&console.log("Couldn't get GotRedemptionSignature event of TBTCSystem.")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRedeemedEvent:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCSystemContract.getPastEvents("Redeemed",t,(function(e,t){e&&console.log("Couldn't get Redeemed event of TBTCSystem.")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getReservesOfPair:function(){var e=Object(y.a)(f.a.mark((function e(t){var n,a,r,i,s,u,o,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.token0().call();case 2:return n=e.sent,e.next=5,t.methods.token1().call();case 5:return a=e.sent,(r=P.contracts.newErc20Detail()).options.address=n,e.next=10,r.methods.symbol().call();case 10:return i=e.sent,e.next=13,r.methods.decimals().call();case 13:return s=e.sent,(u=P.contracts.newErc20Detail()).options.address=a,e.next=18,u.methods.symbol().call();case 18:return o=e.sent,e.next=21,u.methods.decimals().call();case 21:return c=e.sent,e.next=24,t.methods.getReserves().call();case 24:return l=e.sent,e.abrupt("return",{reserve0:l._reserve0,reserve0Symbol:i,reserve0Decimals:s,reserve1:l._reserve1,reserve1Symbol:o,reserve1Decimals:c});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getReservesOfBPool:function(){var e=Object(y.a)(f.a.mark((function e(t){var n,a,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.methods.getCurrentTokens().call();case 3:a=e.sent,r=0;case 5:if(!(r<a.length)){e.next=23;break}return(i=P.contracts.newErc20Detail()).options.address=a[r],e.t0=n,e.next=11,i.methods.symbol().call();case 11:return e.t1=e.sent,e.next=14,i.methods.decimals().call();case 14:return e.t2=e.sent,e.next=17,t.methods.getBalance(a[r]).call();case 17:e.t3=e.sent,e.t4={symbol:e.t1,decimals:e.t2,balance:e.t3},e.t0.push.call(e.t0,e.t4);case 20:r++,e.next=5;break;case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F={deposit:{all:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getDepositEvent({fromBlock:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getByWallet:function(){var e=Object(y.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,z.getTdtTransferEvent({fromBlock:0,filter:{from:"0x0000000000000000000000000000000000000000",to:t}});case 3:if(e.sent.map((function(e){var t=P.tokenIdToAddress(e.returnValues.tokenId);n.push(t)})),0!=n.length){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,z.getDepositEvent({fromBlock:0,filter:{_depositContractAddress:n}});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getState:function(){var e=Object(y.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,Promise.all(t.map(function(){var e=Object(y.a)(f.a.mark((function e(t){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=P.contracts.DepositContract).options.address=t,!W.state[t]){e.next=6;break}e.t0=W.state[t],e.next=9;break;case 6:return e.next=8,a.methods.currentState().call();case 8:e.t0=e.sent;case 9:r=W.state[t]=e.t0,n[t]={state:r,stateDesc:P.getStateDesc(r)};case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getLotSizeTbtc:function(){var e=Object(y.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,Promise.all(t.map(function(){var e=Object(y.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=P.contracts.DepositContract).options.address=t,!W.lotSize[t]){e.next=6;break}e.t0=W.lotSize[t],e.next=9;break;case 6:return e.next=8,a.methods.lotSizeTbtc().call();case 8:e.t0=e.sent;case 9:n[t]=W.lotSize[t]=e.t0;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCreator:function(){var e=Object(y.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,z.getTdtTransferEvent({fromBlock:0,filter:{from:"0x0000000000000000000000000000000000000000"}});case 3:return e.sent.map((function(e){var n=P.tokenIdToAddress(e.returnValues.tokenId);t[n]=e.returnValues.to})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ownerOf:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCDepositTokenContract.methods.ownerOf(t).call();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCollateralizationPercentage:function(){var e=Object(y.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=P.contracts.DepositContract).options.address=t,e.next=4,n.methods.collateralizationPercentage().call();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getHistory:function(){var e=Object(y.a)(f.a.mark((function e(){var t,n,a,r,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.web3.eth.getBlockNumber();case 2:return t=e.sent,n=t-35e3,e.next=6,z.getDepositEvent({fromBlock:n,toBlock:t});case 6:return a=e.sent,r={},a.map((function(e){var n=Math.floor((t-e.blockNumber)/5e3);r[n]=r[n]?r[n]+1:1})),i={},e.next=12,Promise.all([0,1,2,3,4,5,6].map(function(){var e=Object(y.a)(f.a.mark((function e(n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t-5e3*n,e.next=3,P.web3.eth.getBlock(a);case 3:r=e.sent,i[n]=r.timestamp;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return s=[],Object.keys(r).map((function(e){s.push({key:e,count:r[e],timestamp:i[e]})})),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},redeem:{all:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getRedemptionRequestedEvent({fromBlock:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getByWallet:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getRedemptionRequestedEvent({fromBlock:0,filter:{_requester:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getHistory:function(){var e=Object(y.a)(f.a.mark((function e(){var t,n,a,r,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.web3.eth.getBlockNumber();case 2:return t=e.sent,n=t-35e3,e.next=6,z.getRedemptionRequestedEvent({fromBlock:n,toBlock:t});case 6:return a=e.sent,r={},a.map((function(e){var n=Math.floor((t-e.blockNumber)/5e3);r[n]=r[n]?r[n]+1:1})),i={},e.next=12,Promise.all([0,1,2,3,4,5,6].map(function(){var e=Object(y.a)(f.a.mark((function e(n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t-5e3*n,e.next=3,P.web3.eth.getBlock(a);case 3:r=e.sent,i[n]=r.timestamp;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return s=[],Object.keys(r).map((function(e){s.push({key:e,count:r[e],timestamp:i[e]})})),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},item:{mintLogs:function(){var e=Object(y.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,Promise.all([Object(y.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getDepositEvent({fromBlock:0,filter:{_depositContractAddress:t}});case 2:a=e.sent,n.created=a.length>0?a[0]:null;case 4:case"end":return e.stop()}}),e)})))(),Object(y.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getDepositEvent({fromBlock:0,filter:{_depositContractAddress:t}});case 2:a=e.sent,n.registeredPubkey=a.length>0?a[0]:null;case 4:case"end":return e.stop()}}),e)})))(),Object(y.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getFundedEvent({fromBlock:0,filter:{_depositContractAddress:t}});case 2:a=e.sent,n.funded=a.length>0?a[0]:null;case 4:case"end":return e.stop()}}),e)})))()]);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),redeemLogs:function(){var e=Object(y.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,Promise.all([Object(y.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getRedemptionRequestedEvent({fromBlock:0,filter:{_depositContractAddress:t}});case 2:a=e.sent,n.request=a.length>0?a[0]:null;case 4:case"end":return e.stop()}}),e)})))(),Object(y.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getGotRedemptionSignatureEvent({fromBlock:0,filter:{_depositContractAddress:t}});case 2:a=e.sent,n.signature=a.length>0?a[0]:null;case 4:case"end":return e.stop()}}),e)})))(),Object(y.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getRedeemedEvent({fromBlock:0,filter:{_depositContractAddress:t}});case 2:a=e.sent,n.redeemed=a.length>0?a[0]:null;case 4:case"end":return e.stop()}}),e)})))()]);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},tbtc:{balance:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCTokenContract.methods.balanceOf(t).call();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),maxSupply:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.VendingMachineContract.methods.getMaxSupply().call();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),currentSupply:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCTokenContract.methods.totalSupply().call();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),totalMinted:function(){var e=Object(y.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getTbtcTransferEvent({fromBlock:0,filter:{from:"0x0000000000000000000000000000000000000000"}});case 2:return t=e.sent,n=new h.a(0),t.map((function(e){n=n.plus(e.returnValues.value)})),e.abrupt("return",n.toFixed());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mintUserCount:function(){var e=Object(y.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.getTdtTransferEvent({fromBlock:0,filter:{to:P.contracts.VendingMachineContract._address}});case 2:return t=e.sent,n=0,a={},t.map((function(e){var t=e.returnValues.from;a[t]||(a[t]=!0,n++)})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},tdt:{balance:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.TBTCDepositTokenContract.methods.balanceOf(t).call();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},frt:{balance:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.FrtContract.methods.balanceOf(t).call();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},keep:{baseInfo:function(){var e=Object(y.a)(f.a.mark((function e(t){var n,a,r,i,s,u,o,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.BondedECDSAKeepFactoryContract.getPastEvents("BondedECDSAKeepCreated",{fromBlock:0,filter:{keepAddress:t}},(function(e,t){e&&console.log("Couldn't get Redeemed event of TBTCSystem.")}));case 2:if((n=e.sent)&&0!=n.length.length){e.next=5;break}return e.abrupt("return",null);case 5:return(a=P.contracts.BondedECDSAKeepContract).options.address=t,r="terminated",e.next=10,a.methods.isActive();case 10:if(!e.sent){e.next=14;break}r="active",e.next=18;break;case 14:return e.next=16,a.methods.isClosed();case 16:if(!e.sent){e.next=18;break}r="closed";case 18:return i=n[0].returnValues,s=i.application,u=i.honestThreshold,o=i.keepAddress,c=i.members,l=i.owner,e.t0=s,e.t1=u,e.t2=o,e.t3=c,e.t4=l,e.t5=r,e.next=27,a.methods.publicKey().call();case 27:return e.t6=e.sent,e.abrupt("return",{application:e.t0,honestThreshold:e.t1,keepAddress:e.t2,members:e.t3,owner:e.t4,status:e.t5,publicKey:e.t6});case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bondList:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.contracts.KeepBondingContract.getPastEvents("BondCreated",{fromBlock:0,filter:{holder:t}},(function(e,t){e&&console.log("Couldn't get Redeemed event of TBTCSystem.")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},governance:{getCollateralizationThresholds:function(){var e=Object(y.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.contracts.TBTCSystemContract,n={},e.next=4,Promise.all([Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.getInitialCollateralizedPercent().call();case 2:n.initial=e.sent;case 3:case"end":return e.stop()}}),e)})))(),Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.getUndercollateralizedThresholdPercent().call();case 2:n.undercollaterized=e.sent;case 3:case"end":return e.stop()}}),e)})))(),Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.getSeverelyUndercollateralizedThresholdPercent().call();case 2:n.severelyUndercollateralized=e.sent;case 3:case"end":return e.stop()}}),e)})))()]);case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},tx:{getByHash:function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.web3.eth.getTransaction(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},sushi:{getReserves:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.getReservesOfPair(P.contracts.SushiswapV2Pair));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},uniswap:{getReservesOfTbtcWeth:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.getReservesOfPair(P.contracts.UniswapV2PairTbtcWeth));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getReservesOfTbtcWbtc:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.getReservesOfPair(P.contracts.UniswapV2PairTbtcWbtc));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getReservesOfWethUSDT:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.getReservesOfPair(P.contracts.UniswapV2PairWethUSDT));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},balancer:{getReservesOfTbtcWbtc:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.getReservesOfBPool(P.contracts.BalancerPoolTbtcWbtc));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getReservesOfTbtcWeth:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z.getReservesOfBPool(P.contracts.BalancerPoolTbtcWeth));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},curve:{getReserves:function(){var e=Object(y.a)(f.a.mark((function e(){var t,n,a,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=P.contracts.CurveTbtcPool,a=0;case 3:if(!(a<2)){e.next=24;break}return e.next=6,n.methods.coins("0x".concat(a)).call();case 6:return r=e.sent,(i=P.contracts.newErc20Detail()).options.address=r,e.t0=t,e.next=12,i.methods.symbol().call();case 12:return e.t1=e.sent,e.next=15,i.methods.decimals().call();case 15:return e.t2=e.sent,e.next=18,n.methods.balances("0x".concat(a)).call();case 18:e.t3=e.sent,e.t4={symbol:e.t1,decimals:e.t2,balance:e.t3},e.t0.push.call(e.t0,e.t4);case 21:a++,e.next=3;break;case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},L=n(904),q=n(905),U=n(113),K=n(906),G=n(908),V=n(909),$=(n(180),n(47)),H=n.n($);function X(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&e.length){var n=e.substring(0,7),a=e.substring(e.length-4),i="https://etherscan.io/address/"+e,s=n+"..."+a;return t?r.a.createElement("a",{href:i,target:"_blank"},s):s}return""}function Q(e){if(e&&e.length){var t=e.substring(0,7),n=e.substring(e.length-4),a="https://etherscan.io/tx/"+e,i=t+"..."+n;return r.a.createElement("a",{href:a,target:"_blank"},i)}return""}var J=n(912),Y=n(913),Z=n(156),ee=n.n(Z),te=n(162),ne=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderChart=function(t){if(t.length){var n=new te.a({container:e.uuid,autoFit:!0,height:170});n.data(t),n.scale({count:{nice:!0,min:0},timestamp:{nice:!0,formatter:function(e){return H()(1e3*e).format("MM-DD")}}}),n.tooltip({showCrosshairs:!0,shared:!0}),n.interval().position("timestamp*count").color("#6178EF"),n.render()}},e}return Object(o.a)(n,[{key:"componentWillMount",value:function(){this.uuid=ee()()}},{key:"componentDidMount",value:function(){this.renderChart(this.props.data)}},{key:"render",value:function(){return r.a.createElement("div",{className:"chart",id:this.uuid})}}]),n}(r.a.Component),ae=n(59),re=n(902),ie=n(35);function se(){var e=Object(ae.a)(["\n  {\n    deposits(\n      orderBy: redemptionStartedAt,\n      orderDirection: desc,\n      first: 10,\n      where: { redemptionStartedAt_not: null }\n    ) {\n      id,\n      contractAddress,\n      lotSizeSatoshis,\n      currentState,\n      keepAddress,\n      updatedAt,\n      createdAt,\n      redemptionStartedAt,\n      currentStateTimesOutAt\n      tdtToken {\n        owner\n      }\n    }\n  }\n"]);return se=function(){return e},e}var ue=Object(g.gql)(se());function oe(){var e=Object(g.useQuery)(ue),t=e.loading,n=e.error,a=e.data;if(n)return r.a.createElement("p",null,"Error :(");var i=a&&a.deposits||[];return console.log("redeems",i),r.a.createElement("div",null,r.a.createElement("h1",null,"Latest Redeem"),r.a.createElement(re.a,{size:"small",loading:t,pagination:!1,rowKey:function(e){return e.transactionIndex},rowClassName:function(e,t){return t%2===0?"row__white":"row__ccc"},columns:[{title:"#",render:function(){return r.a.createElement("span",{className:"icon__deposit"},"R")}},{title:"Time",render:function(e){return H()(1e3*+e.redemptionStartedAt).fromNow()}},{title:"User",render:function(e){return r.a.createElement(ie.b,{to:"/user/".concat(e.tdtToken.owner)},X(e.tdtToken.owner,!1))}},{title:"Contract address",render:function(e){return r.a.createElement(ie.b,{to:"/detail/".concat(e.contractAddress)},X(e.contractAddress,!1))}},{title:"Lot Size",align:"right",render:function(e){return r.a.createElement("div",{className:"lotSize"},e.lotSizeSatoshis/1e8," ",r.a.createElement("i",null,"BTC"))}}],dataSource:i}),r.a.createElement(ie.b,{to:"/redeem"},r.a.createElement(U.a,{block:!0,className:"list__btn"},"View all Redeem")))}function ce(){var e=Object(ae.a)(["\n  {\n    deposits(\n      orderBy: createdAt,\n      orderDirection: desc,\n      first: 10\n    ) {\n      id,\n      contractAddress,\n      lotSizeSatoshis,\n      currentState,\n      keepAddress,\n      updatedAt,\n      createdAt,\n      redemptionStartedAt,\n      currentStateTimesOutAt\n      tdtToken {\n        owner\n      }\n    }\n  }\n"]);return ce=function(){return e},e}var le=Object(g.gql)(ce());function pe(){var e=Object(g.useQuery)(le),t=e.loading,n=e.error,a=e.data;if(n)return r.a.createElement("p",null,"Error :(");var i=a&&a.deposits||[];return r.a.createElement("div",null,r.a.createElement("h1",null,"Latest Deposit"),r.a.createElement(re.a,{size:"small",pagination:!1,loading:t,rowKey:function(e){return e.transactionIndex},rowClassName:function(e,t){return t%2===0?"row__white":"row__ccc"},columns:[{title:"#",render:function(){return r.a.createElement("span",{className:"icon__deposit"},"D")}},{title:"Time",render:function(e){return H()(1e3*+e.createdAt).fromNow()}},{title:"User",render:function(e){return r.a.createElement(ie.b,{to:"/user/".concat(e.tdtToken.owner)},X(e.tdtToken.owner,!1))}},{title:"Contract Address",render:function(e){return r.a.createElement(ie.b,{to:"/detail/".concat(e.contractAddress)},X(e.contractAddress,!1))}},{title:"Lot Size",align:"right",render:function(e){return r.a.createElement("div",{className:"lotSize"},e.lotSizeSatoshis/1e8," ",r.a.createElement("i",null,"BTC"))}}],dataSource:i}),r.a.createElement(ie.b,{to:"/deposit"},r.a.createElement(U.a,{block:!0,className:"list__btn"},"View all Deposits")))}function de(){var e=Object(ae.a)(["\n  query Deposit($startAt: Int!, $stopAt: Int!) {\n    deposits(\n      orderBy: createdAt,\n      orderDirection: desc,\n      first: 500,\n      where: { createdAt_gt: $startAt, createdAt_lt: $stopAt }\n    ) {\n      id,\n      createdAt\n    }\n  }\n"]);return de=function(){return e},e}var me=Object(g.gql)(de());function fe(e,t,n){return new Promise((function(a,r){P.apolloClient.query({query:me,variables:{startAt:e,stopAt:t}}).then((function(e){if(!e.loading){var r=e.data&&e.data.deposits||[];n.push({timestamp:t,count:r.length}),a()}})).catch((function(e){return r(e)}))}))}var ye=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={history:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H()(),n=[],a=[],[0,1,2,3,4,5,6].map((function(){var e=t.unix(),r=t.add(-1,"days").unix();a.push(fe(r,e,n))})),e.next=6,Promise.all(a).catch(console.error);case 6:this.setState({history:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.history,t=r.a.createElement("div",{className:"chart"},r.a.createElement(J.a,{style:{fontSize:"28px",color:"#ccc"}}));return r.a.createElement("div",null,r.a.createElement("h1",null,"Deposit History"),e.length?r.a.createElement(ne,{data:e}):t)}}]),n}(r.a.Component);function be(){var e=Object(ae.a)(["\n  query Deposit($startAt: Int!, $stopAt: Int!) {\n    deposits(\n      orderBy: createdAt,\n      orderDirection: desc,\n      first: 500,\n      where: { redemptionStartedAt_gt: $startAt, redemptionStartedAt_lt: $stopAt, redemptionStartedAt_not: null }\n    ) {\n      id,\n      redemptionStartedAt\n    }\n  }\n"]);return be=function(){return e},e}var ve=Object(g.gql)(be());function he(e,t,n){return new Promise((function(a,r){P.apolloClient.query({query:ve,variables:{startAt:e,stopAt:t}}).then((function(e){if(!e.loading){var r=e.data&&e.data.deposits||[];n.push({timestamp:t,count:r.length}),a()}})).catch((function(e){return r(e)}))}))}var ge=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={history:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H()(),n=[],a=[],[0,1,2,3,4,5,6].map((function(){var e=t.unix(),r=t.add(-1,"days").unix();a.push(he(r,e,n))})),e.next=6,Promise.all(a).catch(console.error);case 6:this.setState({history:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.history,t=r.a.createElement("div",{className:"chart"},r.a.createElement(J.a,{style:{fontSize:"28px",color:"#ccc"}}));return r.a.createElement("div",null,r.a.createElement("h1",null,"Deposit History"),e.length?r.a.createElement(ne,{data:e}):t)}}]),n}(r.a.Component),Ee=L.a.Search,Te=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleSearch=function(e){P.web3.utils.isAddress(e)?window.location.href="/user/".concat(e):q.b.error("Invalid address!")},a.state={totalSupply:0,totalMinted:0,currentSupply:0,totalMintedUserCount:0,depositHistory:[],redeemHistory:[]},a.getTbtcData=a.getTbtcData.bind(Object(b.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getTbtcData();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTbtcData",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,Promise.all([Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.tbtc.maxSupply();case 2:return e.abrupt("return",t.totalSupply=e.sent);case 3:case"end":return e.stop()}}),e)})))(),Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.tbtc.currentSupply();case 2:return e.abrupt("return",t.currentSupply=e.sent);case 3:case"end":return e.stop()}}),e)})))(),Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.tbtc.totalMinted();case 2:return e.abrupt("return",t.totalMinted=e.sent);case 3:case"end":return e.stop()}}),e)})))(),Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.tbtc.mintUserCount();case 2:return e.abrupt("return",t.totalMintedUserCount=e.sent);case 3:case"end":return e.stop()}}),e)})))()]);case 3:console.log(t),this.setState(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.currentSupply,n=e.totalSupply,a=e.totalMinted,i=e.totalMintedUserCount;J.a;return r.a.createElement("div",null,r.a.createElement("section",{className:"home__search"},r.a.createElement("h1",null,r.a.createElement("b",null,"tBTC")," Explorer"),r.a.createElement("div",{className:"search"},r.a.createElement(Ee,{placeholder:"Search for an address, a transaction",size:"large",onSearch:this.handleSearch,enterButton:!0})),r.a.createElement("p",null,r.a.createElement("b",null,"tBTC"),"The safe way to earn with your Bitcoin.",r.a.createElement(U.a,{type:"link",href:"https://dapp.tbtc.network/",target:"_blank"},"Mint your first tBTC?"))),r.a.createElement("section",{className:"assets"},r.a.createElement("div",{span:"4",className:"assets__box"},r.a.createElement(K.a,{title:"Current Supply",prefix:t?r.a.createElement(Y.a,null):r.a.createElement(J.a,null),value:t/1e18,precision:5})),r.a.createElement("div",{className:"assets__box"},r.a.createElement(K.a,{title:"Total Supply",prefix:!n&&r.a.createElement(J.a,null),value:n/1e18,precision:5})),r.a.createElement("div",{span:"4",className:"assets__box"},r.a.createElement(K.a,{title:"Total Minted",prefix:!a&&r.a.createElement(J.a,null),value:a/1e18,precision:5})),r.a.createElement("div",{span:"4",className:"assets__box"},r.a.createElement(K.a,{title:"Total Minted User",prefix:!i&&r.a.createElement(J.a,null),value:i,precision:0})),r.a.createElement("div",{span:"4",className:"banner"},r.a.createElement("span",null,"1 tBTC = 1 BTC"))),r.a.createElement(G.a,{type:"flex",justify:"space-around"},r.a.createElement(V.a,{lg:11,xs:24,className:"list"},r.a.createElement(ye,null)),r.a.createElement(V.a,{lg:11,xs:24,className:"list"},r.a.createElement(ge,null)),r.a.createElement(V.a,{lg:11,xs:24,className:"list"},r.a.createElement(pe,null)),r.a.createElement(V.a,{lg:11,xs:24,className:"list"},r.a.createElement(oe,null))))}}]),n}(r.a.Component),we=n(191),xe=n(910);function ke(){var e=Object(ae.a)(["\n  query Deposit($first: Int!, $skip: Int!) {\n    deposits(\n      orderBy: createdAt,\n      orderDirection: desc,\n      first: $first,\n      skip: $skip\n    ) {\n      id,\n      contractAddress,\n      lotSizeSatoshis,\n      currentState,\n      keepAddress,\n      updatedAt,\n      createdAt,\n      redemptionStartedAt,\n      currentStateTimesOutAt\n      tdtToken {\n        owner\n      }\n    }\n  }\n"]);return ke=function(){return e},e}we.a.Option;var Oe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).getDataWithManager=Object(y.a)(f.a.mark((function e(){var t,n,r,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.page,r=t.pageSize,!(n<0)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,a.getData(n,r);case 6:(i=e.sent)&&i.length>0?(s=a.state.deposits.concat(i),a.setState({deposits:s,page:n+1})):a.setState({page:-1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),a.getData=function(e,t){return new Promise((function(n,r){Object(b.a)(a);var i=e*t;P.apolloClient.query({query:Ce,variables:{first:t,skip:i}}).then((function(e){if(!e.loading){var t=e.data&&e.data.deposits||[];n(t)}}))}))},a.onChange=function(){var e=Object(y.a)(f.a.mark((function e(t,n){var r,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.state,i=r.page,s=r.pageSize,t*n>=i*s/2&&a.getDataWithManager();case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.state={page:0,pageSize:200,deposits:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getDataWithManager();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.deposits;return r.a.createElement("div",{className:"explorer"},r.a.createElement("h1",null,"Deposit List"),r.a.createElement(re.a,{size:"small",bordered:!0,loading:!e||!e.length,columns:[{title:"Time",render:function(e){return H()(1e3*+e.createdAt).fromNow()}},{title:"Creator",render:function(e){return r.a.createElement(ie.b,{to:"/user/".concat(e.tdtToken.owner)},X(e.tdtToken.owner,!1))}},{title:"Contract",render:function(e){return r.a.createElement(ie.b,{to:"/detail/".concat(e.contractAddress)},X(e.contractAddress,!1))}},{title:"Lot Size",align:"right",render:function(e){return r.a.createElement("div",null,e.lotSizeSatoshis/1e8," ",r.a.createElement("i",null,"BTC"))},sorter:function(e,t){return e.lotSizeSatoshis/1e8-t.lotSizeSatoshis/1e8}},{title:"State",align:"right",render:function(e){var t="#87d068";return t=e.currentState.indexOf("FAILED")>=0?"#f50":"ACTIVE"===e.currentState?"#87d068":"orange",r.a.createElement(xe.a,{color:t},e.currentState)}}],rowKey:function(e){return e.id},dataSource:e,pagination:{pageSize:15,pageSizeOptions:[15,50,100],onChange:this.onChange}}))}}]),n}(r.a.Component),Ce=Object(g.gql)(ke()),Se=Oe;function _e(){var e=Object(ae.a)(["\n  query Deposit($first: Int!, $skip: Int!) {\n    deposits(\n      orderBy: redemptionStartedAt,\n      orderDirection: desc,\n      where: { redemptionStartedAt_not: null },\n      first: $first,\n      skip: $skip\n    ) {\n      id,\n      contractAddress,\n      lotSizeSatoshis,\n      currentState,\n      keepAddress,\n      updatedAt,\n      createdAt,\n      redemptionStartedAt,\n      currentStateTimesOutAt\n      tdtToken {\n        owner\n      }\n    }\n  }\n"]);return _e=function(){return e},e}var Ae=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).getDataWithManager=Object(y.a)(f.a.mark((function e(){var t,n,r,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.page,r=t.pageSize,!(n<0)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,a.getData(n,r);case 6:(i=e.sent)&&i.length>0?(s=a.state.redeems.concat(i),console.log("redeems: ",s),a.setState({redeems:s,page:n+1})):a.setState({page:-1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),a.getData=function(e,t){return new Promise((function(n,r){Object(b.a)(a);var i=e*t;P.apolloClient.query({query:je,variables:{first:t,skip:i}}).then((function(e){if(!e.loading){var t=e.data&&e.data.deposits||[];n(t)}}))}))},a.onChange=function(){var e=Object(y.a)(f.a.mark((function e(t,n){var r,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.state,i=r.page,s=r.pageSize,t*n>=i*s/2&&a.getDataWithManager();case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.state={page:0,pageSize:200,redeems:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getDataWithManager();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.redeems;return r.a.createElement("div",null,r.a.createElement("div",{className:"explorer"},r.a.createElement("h1",null,"Redemption List"),r.a.createElement(re.a,{size:"small",bordered:!0,loading:!e.length,columns:[{title:"Time",render:function(e){return r.a.createElement("span",{className:"wallet"},H()(1e3*+e.redemptionStartedAt).fromNow())}},{title:"Requester",render:function(e){return r.a.createElement(ie.b,{to:"/user/".concat(e.tdtToken.owner)},X(e.tdtToken.owner,!1))}},{title:"Contract",render:function(e){return r.a.createElement(ie.b,{to:"/detail/".concat(e.contractAddress)},X(e.contractAddress,!1))}},{title:"LotSize",align:"right",render:function(e){return r.a.createElement("div",null,e.lotSizeSatoshis/1e8," ",r.a.createElement("i",null,"BTC"))}},{title:"State",align:"right",render:function(e){var t="#87d068";return t=e.currentState.indexOf("FAILED")>=0?"#f50":"REDEEMED"===e.currentState?"#87d068":"orange",r.a.createElement(xe.a,{color:t},e.currentState)}}],rowKey:function(e){return e.id},dataSource:e,pagination:{pageSize:15,onChange:this.onChange}})))}}]),n}(r.a.Component),je=Object(g.gql)(_e()),Be=Ae,Me=n(903),De=n(907);function Ie(){var e=Object(ae.a)(["\n  query GetDepositLogs($depositId: String!)\n  {\n    events(where: {deposit: $depositId}, orderBy: timestamp, orderDirection: desc) {\n      __typename,\n      id,\n      transactionHash,\n      submitter,\n      timestamp,\n\n      ...on RegisteredPubKeyEvent {\n        signingGroupPubkeyX,\n        signingGroupPubkeyY\n      }\n\n      ...on StartedLiquidationEvent {\n        cause\n      },\n\n      ...on SetupFailedEvent {\n        reason,\n        deposit {\n          bondedECDSAKeep {\n            pubkeySubmissions { address },\n            members { address }\n          }\n        }\n      }\n    }\n  }\n"]);return Ie=function(){return e},e}function Re(){var e=Object(ae.a)(["\n  query GetDeposit($id: ID!) {\n    deposit(id: $id) {\n      id,\n      contractAddress,\n      currentState,\n      createdAt,\n      keepAddress,\n      lotSizeSatoshis,\n      endOfTerm,\n      index,\n\n      currentStateTimesOutAt,\n\n      tdtToken {\n          id,\n          tokenID,\n          owner,\n          minter\n      }\n\n      initialCollateralizedPercent,\n      undercollateralizedThresholdPercent,\n      severelyUndercollateralizedThresholdPercent,\n\n      bondedECDSAKeep {\n        id,\n        keepAddress,\n        totalBondAmount,\n        publicKey,\n        status,\n        honestThreshold,\n        members {\n          id,\n          address\n        }\n      },\n\n      depositLiquidation {\n        cause\n      }\n    }\n  }\n"]);return Re=function(){return e},e}var Ne=Object(g.gql)(Re()),Pe=Object(g.gql)(Ie()),We=Me.a.Step,ze=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).fetchDeposit=function(){var e=a.props.match.params.id;return new Promise((function(t,n){P.apolloClient.query({query:Ne,variables:{id:"dp-".concat(e)}}).then((function(e){if(!e.loading){var n=e.data&&e.data.deposit||{};t(n)}})).catch((function(e){return n(e)}))}))},a.fetchLogs=function(){var e=a.props.match.params.id;return new Promise((function(t,n){P.apolloClient.query({query:Pe,variables:{depositId:"dp-".concat(e)}}).then((function(e){e.loading||t(e)})).catch((function(e){return n(e)}))}))},a.state={deposit:{},mintLogs:{},redeemLogs:{}},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchDeposit();case 2:return t=e.sent,n={},a={},e.next=7,this.fetchLogs();case 7:if(e.t0=e.sent.data.events,e.t0){e.next=10;break}e.t0=[];case 10:return e.t0.map((function(e){-1!=["CreatedEvent","RegisteredPubKeyEvent","FundedEvent"].indexOf(e.__typename)?n[e.__typename]=e:a[e.__typename]=e})),this.setState({deposit:t,mintLogs:n,redeemLogs:a}),e.abrupt("return");case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.deposit,n=e.mintLogs,a=e.redeemLogs,i="PROCESSING";n.CreatedEvent&&(i="COMPLETED");var s="NOT_START";return a.RedemptionRequestedEvent?s="PROCESSING":a.RedeemedEvent&&(s="COMPLETED"),r.a.createElement("div",null,r.a.createElement(G.a,{type:"flex",justify:"space-between"},r.a.createElement(V.a,{span:"11",className:"list"},r.a.createElement("h3",null,"Mint Status: ",i),r.a.createElement(Me.a,{current:P.calMintStep(n),direction:"vertical"},r.a.createElement(We,{title:"Created",subTitle:n.CreatedEvent&&H()(1e3*n.CreatedEvent.timestamp).fromNow(),description:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Create deposit contract for minting ",r.a.createElement("i",null,r.a.createElement("b",null,"tBTC"))),n.CreatedEvent&&r.a.createElement("div",null,X(n.CreatedEvent.submitter)," in ",Q(n.CreatedEvent.transactionHash)))}),r.a.createElement(We,{title:"RegisterdPubKey",subTitle:n.RegisteredPubKeyEvent&&H()(1e3*n.RegisteredPubKeyEvent.timestamp).fromNow(),description:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Register the public key of signer group"),n.RegisteredPubKeyEvent&&r.a.createElement("div",null,X(n.RegisteredPubKeyEvent.submitter)," in ",Q(n.RegisteredPubKeyEvent.transactionHash)))}),r.a.createElement(We,{title:"Funded",subTitle:n.FundedEvent&&H()(1e3*n.FundedEvent.timestamp).fromNow(),description:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Fund ",r.a.createElement("i",null,r.a.createElement("b",null,"BTC"))," into signer group"),n.FundedEvent&&r.a.createElement("div",null,X(n.FundedEvent.submitter)," in ",Q(n.FundedEvent.transactionHash)))}))),r.a.createElement(V.a,{span:"12",className:"list"},r.a.createElement("h3",null,"Redeem Status: ",s),r.a.createElement(Me.a,{current:P.calRedeemStep(a),direction:"vertical"},r.a.createElement(We,{title:"Created",subTitle:a.RedemptionRequestedEvent&&H()(1e3*a.RedemptionRequestedEvent.timestamp).fromNow(),description:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Request from redeeming ",r.a.createElement("i",null,r.a.createElement("b",null,"BTC"))),a.RedemptionRequestedEvent&&r.a.createElement("div",null,X(a.RedemptionRequestedEvent.submitter)," in ",Q(a.RedemptionRequestedEvent.transactionHash)))}),r.a.createElement(We,{title:"GotRedemptionSignature",subTitle:a.GotRedemptionSignatureEvent&&H()(1e3*a.GotRedemptionSignatureEvent.timestamp).fromNow(),description:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Got the redemption signature of signer group"),a.GotRedemptionSignatureEvent&&r.a.createElement("div",null,X(a.GotRedemptionSignatureEvent.submitter)," in ",Q(a.GotRedemptionSignatureEvent.transactionHash)))}),r.a.createElement(We,{title:"Redeemed",subTitle:a.RedeemedEvent&&H()(1e3*a.RedeemedEvent.timestamp).fromNow(),description:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Redeem ",r.a.createElement("i",null,r.a.createElement("b",null,"BTC"))," successed"),a.RedeemedEvent&&r.a.createElement("div",null,X(a.RedeemedEvent)," in ",Q(a.RedeemedEvent.transactionHash)))})))),r.a.createElement("div",{className:"info",style:{minHeight:"400px"}},r.a.createElement(De.a,{title:"Deposit&Reedem Base Info",bordered:!0,size:"small"},r.a.createElement(De.a.Item,{span:3,label:"DepositContract"},t.contractAddress),r.a.createElement(De.a.Item,{span:3,label:"TokenId"},t.contractAddress),r.a.createElement(De.a.Item,{span:3,label:"EndOfTerm"},t.endOfTerm&&H()(1e3*+t.endOfTerm).fromNow()),r.a.createElement(De.a.Item,{span:3,label:"Owner"},t.tdtToken&&r.a.createElement(ie.b,{to:"/user/ownership"},t.tdtToken.owner)||r.a.createElement(J.a,null)),r.a.createElement(De.a.Item,{span:3,label:"Creator"},t.tdtToken&&r.a.createElement(ie.b,{to:"/user/ownership"},t.tdtToken.minter)||r.a.createElement(J.a,null)),r.a.createElement(De.a.Item,{span:3,label:"Lot Size"},t.lotSizeSatoshis/1e8," BTC"),r.a.createElement(De.a.Item,{span:3,label:"Status"},t.currentState),r.a.createElement(De.a.Item,{span:3,label:"Time"},H()(1e3*+t.createdAt).fromNow()))),r.a.createElement("div",{className:"info"},r.a.createElement(De.a,{title:"Keep",bordered:!0,size:"small"},r.a.createElement(De.a.Item,{span:3,label:"KeepContract"},t.keepAddress),r.a.createElement(De.a.Item,{span:3,label:"Signers"},t.bondedECDSAKeep&&t.bondedECDSAKeep.members&&t.bondedECDSAKeep.members.map((function(e){return r.a.createElement("span",{style:{marginRight:"15px"}},X(e.address,!0))}))),r.a.createElement(De.a.Item,{span:3,label:"Bond"},t.bondedECDSAKeep&&t.bondedECDSAKeep.totalBondAmount/1e18," ETH"),r.a.createElement(De.a.Item,{span:3,label:"Collaterialization"},t.initialCollateralizedPercent,"%"),r.a.createElement(De.a.Item,{span:3,label:"Thresholds"},"".concat(t.initialCollateralizedPercent,"% / ").concat(t.undercollateralizedThresholdPercent,"% / ").concat(t.severelyUndercollateralizedThresholdPercent,"%")),r.a.createElement(De.a.Item,{span:3,label:"HonestThreshold"},t.bondedECDSAKeep&&t.bondedECDSAKeep.honestThreshold),r.a.createElement(De.a.Item,{span:3,label:"BTC PublicKey"},t.bondedECDSAKeep&&t.bondedECDSAKeep.publicKey),r.a.createElement(De.a.Item,{span:3,label:"Status"},t.bondedECDSAKeep&&t.bondedECDSAKeep.status))))}}]),n}(r.a.Component),Fe=n(901),Le=(L.a.Search,function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).getTbtcBalance=function(){var e=Object(y.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.tbtc.balance(t);case 2:n=e.sent,a.setState({tbtcBalance:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getTdtBalance=function(){var e=Object(y.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.tdt.balance(t);case 2:n=e.sent,a.setState({tdtBalance:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getFrtBalance=function(){var e=Object(y.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.frt.balance(t);case 2:n=e.sent,a.setState({frtBalance:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getDepositList=function(){var e=Object(y.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.deposit.getByWallet(t);case 2:n=e.sent.reverse(),a.setState({depositList:n}),r=[],n.map((function(e){return r.push(e.returnValues._depositContractAddress)})),a.getMintLotSize(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getRedeemList=function(){var e=Object(y.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.redeem.getByWallet(t);case 2:n=e.sent.reverse(),a.setState({redeemList:n}),r=[],n.map((function(e){return r.push(e.returnValues._depositContractAddress)})),a.getRedeemLotSize(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getMintLotSize=function(){var e=Object(y.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.deposit.getLotSizeTbtc(t);case 2:n=e.sent,a.setState({mintLotSize:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getRedeemLotSize=function(){var e=Object(y.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.deposit.getLotSizeTbtc(t);case 2:n=e.sent,a.setState({redeemLotSize:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={tbtcBalance:null,tdtBalance:null,frtBalance:null,depositList:null,redeemList:null,mintLotSize:{},redeemLotSize:{}},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.id,this.getTbtcBalance(t),this.getTdtBalance(t),this.getFrtBalance(t),this.getDepositList(t),this.getRedeemList(t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.tbtcBalance,n=e.tdtBalance,a=e.frtBalance,i=e.depositList,s=e.redeemList,u=e.mintLotSize,o=e.redeemLotSize;return r.a.createElement("div",null,r.a.createElement("section",{className:"assets__user"},r.a.createElement("div",{span:"5",className:"assets__user_box"},r.a.createElement(K.a,{title:"TBTC Balance",prefix:!t&&r.a.createElement(J.a,null),value:t/1e18,precision:5})),r.a.createElement("div",{span:"5",className:"assets__user_box"},r.a.createElement(K.a,{title:"TDT Count",prefix:!n&&r.a.createElement(J.a,null),value:n||0,precision:0})),r.a.createElement("div",{span:"5",className:"assets__user_box"},r.a.createElement(K.a,{title:"FRT Count",prefix:!a&&r.a.createElement(J.a,null),value:a||0,precision:0}))),r.a.createElement(Fe.a,null),r.a.createElement(G.a,{type:"flex",justify:"space-around"},r.a.createElement(V.a,{span:"11",className:"list"},r.a.createElement("h1",null,"Deposit List"),r.a.createElement(re.a,{size:"small",pagination:!1,loading:null===i,rowKey:function(e){return e.returnValues._timestamp},columns:[{title:"Time",render:function(e){return H()(1e3*+e.returnValues._timestamp).fromNow()}},{title:"Contract Address",render:function(e){return r.a.createElement(ie.b,{to:"/detail/".concat(e.returnValues._depositContractAddress)},X(e.returnValues._depositContractAddress,!1))}},{title:"Lot Size",align:"right",render:function(e){return u[e.returnValues._depositContractAddress]?r.a.createElement("div",null,u[e.returnValues._depositContractAddress]/1e18," ",r.a.createElement("i",null,"BTC")):r.a.createElement(J.a,null)}}],dataSource:i||[]})),r.a.createElement(V.a,{span:"11",className:"list"},r.a.createElement("h1",null,"Redeem List"),r.a.createElement(re.a,{size:"small",loading:null===s,pagination:!1,rowKey:function(e){return e.transactionIndex},columns:[{title:"Time",render:function(e){return H()(1e3*P.time.blockToTimestamp(e.blockNumber)).fromNow()}},{title:"Contract address",render:function(e){return r.a.createElement(ie.b,{to:"/detail/".concat(e.returnValues._depositContractAddress)},X(e.returnValues._depositContractAddress,!1))}},{title:"Lot Size",align:"right",render:function(e){return o[e.returnValues._depositContractAddress]?r.a.createElement("div",null,o[e.returnValues._depositContractAddress]/1e18," ",r.a.createElement("i",null,"BTC")):r.a.createElement(J.a,null)}}],dataSource:s||[]}))))}}]),n}(r.a.Component));function qe(){var e=Object(ae.a)(['\n  query Deposit($first: Int!, $skip: Int!) {\n    deposits(\n      orderBy: createdAt,\n      orderDirection: desc,\n      where: { currentState: "ACTIVE" },\n      first: $first,\n      skip: $skip\n    ) {\n      id,\n      contractAddress,\n      lotSizeSatoshis,\n      currentState,\n      keepAddress,\n      updatedAt,\n      createdAt,\n      redemptionStartedAt,\n      currentStateTimesOutAt\n      tdtToken {\n        owner\n      }\n    }\n  }\n']);return qe=function(){return e},e}n(393);var Ue=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).getDataWithManager=Object(y.a)(f.a.mark((function e(){var t,n,r,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.page,r=t.pageSize,!(n<0)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,a.getData(n,r);case 6:(i=e.sent)&&i.length>0?(s=a.state.deposits.concat(i),a.setState({deposits:s,page:n+1})):a.setState({page:-1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),a.getData=function(e,t){return new Promise((function(n,r){Object(b.a)(a);var i=e*t;P.apolloClient.query({query:Ke,variables:{first:t,skip:i}}).then((function(e){if(!e.loading){var t=e.data&&e.data.deposits||[];console.log("tbt: ",t),n(t)}})).catch((function(e){return r(e)}))}))},a.onChange=function(){var e=Object(y.a)(f.a.mark((function e(t,n){var r,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.state,i=r.page,s=r.pageSize,t*n>=i*s/2&&a.getDataWithManager();case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.state={page:0,pageSize:200,deposits:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getDataWithManager();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.deposits;return r.a.createElement("div",null,r.a.createElement("div",{className:"info"},r.a.createElement("h3",null,"What is TDT?"),r.a.createElement("div",null,"The tBTC Deposit Token, commonly referenced as the TDT, is an ERC721 non-fungible token whose ownership reflects the ownership of its corresponding deposit. Each deposit has one TDT, and vice versa. Owning a TDT is equivalent to owning its corresponding deposit. TDTs can be transferred freely. tBTC's VendingMachine contract takes ownership of TDTs and in exchange returns fungible TBTC tokens whose value is backed 1-to-1 by the corresponding deposit's BTC."),r.a.createElement("br",null),r.a.createElement("div",null,"In short, you will need it when you need to redeem BTC")),r.a.createElement(Fe.a,null),r.a.createElement("div",{className:"explorer"},r.a.createElement("h3",null,"Available TDT(For Redeem BTC)"),r.a.createElement("br",null),r.a.createElement(re.a,{loading:!e.length,dataSource:e,rowKey:function(e){return e.id},size:"small",pagination:{pageSize:15,onChange:this.onChange},columns:[{title:"ID",render:function(e){return r.a.createElement("div",null,e.contractAddress)}},{title:"Lot Size",align:"right",render:function(e){return r.a.createElement("div",null,e.lotSizeSatoshis/1e8," ",r.a.createElement("i",null,"BTC"))},sorter:function(e,t){return e.lotSizeSatoshis/1e8-t.lotSizeSatoshis/1e8}}]})))}}]),n}(r.a.Component),Ke=Object(g.gql)(qe()),Ge=Ue,Ve=n(194),$e=n.n(Ve),He=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).getUniWethUSDT=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,F.uniswap.getReservesOfWethUSDT();case 3:e.t1=e.sent,e.t2={uniWethUSDT:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)}))),a.getSushiTbtcWbtc=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,F.sushi.getReserves();case 3:e.t1=e.sent,e.t2={sushiTbtcWbtc:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)}))),a.getUniTbtcWeth=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,F.uniswap.getReservesOfTbtcWeth();case 3:e.t1=e.sent,e.t2={uniTbtcWeth:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)}))),a.getUniTbtcWbtc=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,F.uniswap.getReservesOfTbtcWbtc();case 3:e.t1=e.sent,e.t2={uniTbtcWbtc:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)}))),a.getBalancerTbtcWbtc=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,F.balancer.getReservesOfTbtcWbtc();case 3:e.t1=e.sent,e.t2={balancerTbtcWbtc:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)}))),a.getBalancerTbtcWeth=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,F.balancer.getReservesOfTbtcWeth();case 3:e.t1=e.sent,e.t2={balancerTbtcWeth:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)}))),a.getCurveBalance=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,F.curve.getReserves();case 3:e.t1=e.sent,e.t2={curveReserve:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)}))),a.state={sushiTbtcWbtc:{},uniTbtcWeth:{},uniTbtcWbtc:{},balancerTbtcWbtc:[],balancerTbtcWeth:[],curveReserve:[],uniWethUSDT:{}},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getCurveBalance(),this.getSushiTbtcWbtc(),this.getUniTbtcWeth(),this.getUniTbtcWbtc(),this.getBalancerTbtcWbtc(),this.getBalancerTbtcWeth(),this.getUniWethUSDT();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.sushiTbtcWbtc,n=e.uniTbtcWeth,a=e.uniTbtcWbtc,i=e.balancerTbtcWbtc,s=e.balancerTbtcWeth,u=e.curveReserve,o=e.uniWethUSDT,c=function(e){return parseFloat(e).toFixed(5)},l=0;if(o&&o.reserve0&&o.reserve1&&n&&n.reserve0&&n.reserve1){var p=o.reserve1/1e6/(o.reserve0/1e18);l=n.reserve1/n.reserve0*p}var d=0;u&&u.length&&i&&i.length&&s&&s.length&&t.reserve0&&(d=u[0].balance/1e18+t.reserve1/1e18+n.reserve0/1e18+a.reserve1/1e18+i[1].balance/1e18+s[1].balance/1e18);var m=function(e){return e?"$"+$e()(e).format("0,0.00"):0};return r.a.createElement("div",null,r.a.createElement("section",{className:"liquidity__overview"},r.a.createElement("div",{className:"liquidity__box"},r.a.createElement("section",null,r.a.createElement("img",{src:"/liquidity.svg"})),r.a.createElement("div",null,r.a.createElement("span",null,"Total Liquidity (tBTC)"),r.a.createElement("label",null,d?$e()(d).format("0,0.00000"):"..."))),r.a.createElement("div",{className:"liquidity__box"},r.a.createElement("section",null,r.a.createElement("img",{src:"/dollar.svg"})),r.a.createElement("div",null,r.a.createElement("span",null,"Total Liquidity (USDT)"),r.a.createElement("label",null,"$",l&&d?$e()(l*d).format("0,0"):"..."))),r.a.createElement("div",{className:"liquidity__box"},r.a.createElement("section",{className:"tbtc"},r.a.createElement("img",{src:"/tbtc.png"})),r.a.createElement("div",null,r.a.createElement("span",null,"tBTC"),r.a.createElement("label",null,"$",l?$e()(l).format("0,0.00"):"...")))),r.a.createElement("h1",{className:"liquidity"},"tBTC Liquidity Info in DeFi"),r.a.createElement("br",null),r.a.createElement("div",{className:"liquidity"},r.a.createElement("section",{className:"liquidity__box"},r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"blue"},r.a.createElement("img",{src:"/curv.png"})),r.a.createElement("h2",null,r.a.createElement("a",{href:"https://www.curve.fi/tbtc/deposit",target:"_blank"},"Curve"),r.a.createElement("span",null,"\u2197"),r.a.createElement("i",null,l&&u.length?m(2*l*u[1].balance/1e18):"..."))),u.map((function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null,e.balance?c(e.balance/Math.pow(10,e.decimals)):"..."),"crvRenWSBTC"===e.symbol?"sBTC":e.symbol))}))),r.a.createElement("section",{className:"liquidity__box"},r.a.createElement("div",{className:"title"},r.a.createElement("div",null,"\ud83c\udf63"),r.a.createElement("h2",null,r.a.createElement("a",{href:"https://exchange.sushiswapclassic.org/#/add/0x8dAEBADE922dF735c38C80C7eBD708Af50815fAa/0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",target:"_blank"},"SushiSwap"),r.a.createElement("span",null,"\u2197"),r.a.createElement("i",null,l&&t.reserve1?m(2*l*t.reserve1/1e18):"..."))),r.a.createElement("div",null,r.a.createElement("label",null,t.reserve1?c(t.reserve1/1e18):"..."),t.reserve1Symbol),r.a.createElement("div",null,r.a.createElement("label",null,t.reserve0?c(t.reserve0/1e8):"..."),t.reserve0Symbol)),r.a.createElement("section",{className:"liquidity__box"},r.a.createElement("div",{className:"title"},r.a.createElement("div",null,r.a.createElement("img",{src:"/uniswap.jpeg"})),r.a.createElement("h2",null,r.a.createElement("a",{href:"https://info.uniswap.org/pair/0x854056Fd40C1B52037166285B2e54Fee774d33f6",target:"_blank"},"Uniswap"),r.a.createElement("span",null,"\u2197"),r.a.createElement("i",null,l&&n.reserve0?m(2*l*n.reserve0/1e18):"..."))),r.a.createElement("div",null,r.a.createElement("label",null,n.reserve1?c(n.reserve1/1e18):"..."),n.reserve1Symbol),r.a.createElement("div",null,r.a.createElement("label",null,n.reserve0?c(n.reserve0/1e18):"..."),n.reserve0Symbol)),r.a.createElement("section",{className:"liquidity__box"},r.a.createElement("div",{className:"title"},r.a.createElement("div",null,r.a.createElement("img",{src:"/uniswap.jpeg"})),r.a.createElement("h2",null,r.a.createElement("a",{href:"https://info.uniswap.org/pair/0x8a1643D77621d171df97Df4fc86051F54F7EBA90",target:"_blank"},"Uniswap"),r.a.createElement("span",null,"\u2197"),r.a.createElement("i",null,l&&a.reserve0?m(2*l*a.reserve0/1e8):"..."))),r.a.createElement("div",null,r.a.createElement("label",null,a.reserve1?c(a.reserve1/1e18):"..."),a.reserve1Symbol),r.a.createElement("div",null,r.a.createElement("label",null,a.reserve0?c(a.reserve0/1e8):"..."),a.reserve0Symbol)),r.a.createElement("section",{className:"liquidity__box"},r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"black"},r.a.createElement("img",{src:"/balancer.svg"})),r.a.createElement("h2",null,r.a.createElement("a",{href:"https://pools.balancer.exchange/#/pool/0x17996cbddd23c2a912de8477c37d43a1b79770b8/",target:"_blank"},"Balancer"),r.a.createElement("span",null,"\u2197"),r.a.createElement("i",null,l&&i.length?m(2*l*i[1].balance/1e18):"..."))),i.map((function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null,e.balance?c(e.balance/Math.pow(10,e.decimals)):"..."),e.symbol))}))),r.a.createElement("section",{className:"liquidity__box"},r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"black"},r.a.createElement("img",{src:"/balancer.svg"})),r.a.createElement("h2",null,r.a.createElement("a",{href:"https://pools.balancer.exchange/#/pool/0xb98db2fb641751462fd78c6db2a5c6edb50864d4/",target:"_blank"},"Balancer"),r.a.createElement("span",null,"\u2197"),r.a.createElement("i",null,l&&s.length?m(2*l*s[0].balance/1e18):"..."))),s.map((function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null,e.balance?c(e.balance/Math.pow(10,e.decimals)):"..."),e.symbol))})))))}}]),n}(r.a.Component);function Xe(){var e=Object(ae.a)(["\n  {\n    users(first: 1000) {\n      id,\n      address,\n      numDepositsCreated,\n      numDepositsRedeemed,\n      numDepositsUnfunded,\n      numOwnDepositsRedeemed\n    }\n  }\n"]);return Xe=function(){return e},e}Object(g.gql)(Xe());var Qe=n(5),Je=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderChart=function(t){var n=e.props.totalSupply,a=[];t&&t.length&&(a=t.splice(0,20));var r=new te.a({container:e.uuid,autoFit:!0,height:500});r.coordinate("theta",{radius:.75,innerRadius:.6}),r.data(a),r.tooltip({showTitle:!1,showMarkers:!1}),r.annotation().text({position:["50%","50%"],content:"Total Supply",style:{fontSize:14,fill:"#8c8c8c",textAlign:"center"},offsetY:-20}).text({position:["50%","50%"],content:n,style:{fontSize:20,fill:"#8c8c8c",textAlign:"center"},offsetY:20}),r.interval().position("balance").color("id").label("id*balance",{layout:{type:"pie-spider"},labelHeight:20,content:function(e){return"".concat(e.id," (").concat(e.balance,")")},labelLine:{style:{lineWidth:.5}}}).adjust("stack"),r.interaction("element-active"),r.render()},e}return Object(o.a)(n,[{key:"componentWillMount",value:function(){this.uuid=ee()()}},{key:"componentDidMount",value:function(){this.renderChart(this.props.data)}},{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard__chart",id:this.uuid})}}]),n}(r.a.Component);function Ye(){var e=Object(ae.a)(["\n  {\n    tokenHolders (\n      orderBy: tokenBalanceRaw,\n      orderDirection: desc,\n      first: 100\n    ) {\n      id,\n      tokenBalanceRaw\n    }\n  }\n"]);return Ye=function(){return e},e}var Ze=Object(g.gql)(Ye());function et(){var e=Object(g.useQuery)(Ze,{client:P.tbtcGraphClient}),t=(e.loading,e.error),n=e.data;if(t)return r.a.createElement("p",null,"Error :(");var a=n&&n.tokenHolders||[],i=[],s=0;return a&&a.length&&(i=a.map((function(e){return s+=parseFloat(e.tokenBalanceRaw/1e18),Object(Qe.a)(Object(Qe.a)({},e),{},{id:X(e.id,!1),balance:+parseFloat(e.tokenBalanceRaw/1e18).toFixed(2)})}))),i&&i.length?r.a.createElement("div",{className:"dashboard__box"},r.a.createElement(Je,{data:i,totalSupply:s.toFixed(2)})):r.a.createElement("div",{className:"dashboard__box"})}var tt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderChart=function(t){if(t.length){var n=new te.a({container:e.uuid,autoFit:!0,height:400});n.data(t),n.scale({minted:{nice:!0,min:0},addr:{formatter:function(e){return X(e,!1)}}}),n.tooltip({showCrosshairs:!0,shared:!0}),n.interval().position("addr*minted").color("#6178EF"),n.render()}},e}return Object(o.a)(n,[{key:"componentWillMount",value:function(){this.uuid=ee()()}},{key:"componentDidMount",value:function(){this.renderChart(this.props.data)}},{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard__chart",id:this.uuid})}}]),n}(r.a.Component);function nt(){var e=Object(ae.a)(["\n  query Mint($first: Int!, $skip: Int!) {\n    mints (\n      orderBy: timestamp,\n      orderDirection: desc,\n      first: $first,\n      skip: $skip\n    ) {\n      to,\n      amount\n    }\n  }\n"]);return nt=function(){return e},e}var at=Object(g.gql)(nt()),rt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).getData=function(e,t){return new Promise((function(n,r){Object(b.a)(a);var i=e*t;P.tbtcGraphClient.query({query:at,variables:{first:t,skip:i}}).then((function(e){if(!e.loading){var t=e.data&&e.data.mints||[];n(t)}})).catch((function(e){return r(e)}))}))},a.state={minters:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t,n,a,r,i,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=0,a=800,e.prev=1;case 2:return e.next=5,this.getData(n,a);case 5:if(r=e.sent,t=t.concat(r),!(r&&r.length>=a)){e.next=10;break}return n++,e.abrupt("continue",2);case 10:return e.abrupt("break",13);case 13:console.log("mints: ",t),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0);case 19:i={},s=[],t.map((function(e){i[e.to]||(i[e.to]=new h.a(0),s.push(e.to));var t=new h.a(e.amount);i[e.to]=i[e.to].plus(t)})),u=[],s.map((function(e){u.push({addr:e,amount:i[e]})})),u=u.sort((function(e,t){return t.amount.comparedTo(e.amount)})),this.setState({minters:u});case 26:case"end":return e.stop()}}),e,this,[[1,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.minters.splice(0,50);return e&&e.length?(e=e.map((function(e){return Object(Qe.a)(Object(Qe.a)({},e),{},{minted:parseFloat(e.amount)})})),r.a.createElement("div",{className:"dashboard__box"},r.a.createElement(tt,{data:e}))):r.a.createElement("div",{className:"dashboard__box"})}}]),n}(r.a.Component),it=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={},a}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"dashboard"},r.a.createElement("h2",null,"Total Minted User"),r.a.createElement(rt,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",null,"tBTC Holders"),r.a.createElement(et,null))}}]),n}(r.a.Component),st=(n(895),n(163)),ut=n(911),ot=n(62);q.b.config({duration:2,maxCount:1});L.a.Search;var ct=n(388),lt=n(389),pt=n(390),dt=n(391),mt=n(392),ft=new d.a("https://mainnet.infura.io/v3/fae6a8d70b074a21898e735c568a80cf"),yt=(new ft.eth.Contract(ct.abi,"0x87effef56c7ff13e2463b5d4dce81be2340faf8b"),new ft.eth.Contract(lt.abi,"0xe20A5C79b39bC8C363f0f49ADcFa82C2a01ab64a"),new ft.eth.Contract(pt.abi,"0x8dAEBADE922dF735c38C80C7eBD708Af50815fAa"),new ft.eth.Contract(dt.abi,"0x10B66Bd1e3b5a936B7f8Dbc5976004311037Cdf0"),new ft.eth.Contract(mt.abi,"0x526c08e5532a9308b3fb33b7968ef78a5005d2ac"),function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleSearch=function(e){P.web3.utils.isAddress(e)?window.location.href="/user/".concat(e):q.b.error("Invalid address!")},a.state={route:null},a}return Object(o.a)(n,[{key:"render",value:function(){this.state.route;return r.a.createElement(ie.a,null,r.a.createElement(g.ApolloProvider,{client:P.apolloClient},r.a.createElement("div",{id:"box",className:"box"},r.a.createElement("div",{className:"header"},r.a.createElement("section",null,r.a.createElement(ie.b,{to:"/",className:"header__logo"},r.a.createElement("img",{src:"/logo.svg"})),r.a.createElement("div",{className:"header__menu"},r.a.createElement(ie.b,{to:"/"},"Home"),r.a.createElement(ie.b,{to:"/dashboard"},"Insight"),r.a.createElement(ie.b,{to:"/deposit"},"Deposit"),r.a.createElement(ie.b,{to:"/redeem"},"Redeem"),r.a.createElement(ie.b,{to:"/tdt"},"TDT"),r.a.createElement(st.a,{visible:!0,placement:"bottom",title:r.a.createElement("div",{className:"tooltip__content"},"tBTC liquidity info in DeFi.")},r.a.createElement(ie.b,{to:"/liquidity"},"Liquidity"))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container__right"},r.a.createElement("section",{className:"container__right_box"},r.a.createElement(ot.c,null,r.a.createElement(ot.a,{exact:!0,path:"/"},r.a.createElement(Te,null)),r.a.createElement(ot.a,{path:"/deposit"},r.a.createElement(Se,null)),r.a.createElement(ot.a,{path:"/redeem"},r.a.createElement(Be,null)),r.a.createElement(ot.a,{path:"/detail/:id",component:ze}),r.a.createElement(ot.a,{path:"/user/:id",component:Le}),r.a.createElement(ot.a,{path:"/tdt"},r.a.createElement(Ge,null)),r.a.createElement(ot.a,{path:"/liquidity",component:He}),r.a.createElement(ot.a,{path:"/dashboard",component:it})))))),r.a.createElement("div",{className:"footer"},r.a.createElement("section",null,r.a.createElement("label",null,"Copyright \xa9 2020, tBTC-Explorer Team. All rights reserved."),r.a.createElement("a",{href:"https://github.com/Mexplo/tbtc_explorer",target:"_blank"},"GitHub"),r.a.createElement(ut.a,{content:r.a.createElement("div",{className:"donations"},r.a.createElement("img",{src:"/eth.png"}),r.a.createElement("p",null,"0x5180441e8c2caDa572841c26ab7eeD0726F1097D"))},r.a.createElement("span",null,"Donations: 0x51....1097D"))))))}}]),n}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[484,1,2]]]);
//# sourceMappingURL=main.2523f86c.chunk.js.map